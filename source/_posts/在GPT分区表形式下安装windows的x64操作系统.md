---
title: 在GPT分区表形式下安装windows的x64操作系统
date: 2016-06-16 15:09:04
tags: [安装,系统安装]
toc: true
---
也许大家对安装Windows操作系统已经不再陌生了，在一般情况下，大多数PC电脑（更多的是老机器）都是采用传统的MBR的方式来分区。
其实，除了MBR（Master Boot Record），还有另外一种磁盘分区方式，那就是GPT（GUID Partition Table），在基于GPT分区方式下安装Windows和在基于MBR分区方式下安装Windows就操作来说有一些不同，特此记录一下安装过程与大家共享。
<!-- more --> 

## 使用GPT分区安装Windows操作系统的前提条件
- 磁盘使用GPT分区
- 主板支持UEFI模式
- 只能安装Windows的64bit版本，GPT分区不支持32位系统，只支持64位的系统，GPT分区是UEFI引导，只有64位系统才有UEFI引导。

## 开始安装前的准备工作
1. 下载一个完整的Windows X64操作系统镜像(GPT不支持32位操作系统，请在下载的时候一定看清楚版本)
	- Windows操作系统镜像可以在这里下载到：[I Tell you](http://itellyou.cn/)
	{% asset_img 下载Windows镜像.png 下载Windows镜像的步骤 %}
2. 准备一个至少4GB的U盘
4. 需要一台能正常工作的Windows电脑(可以借用一下基友的:))，在此电脑上下载并安装下列软件备用
	- [ultraiso（软碟通）](http://rj.baidu.com/soft/detail/11522.html)
	- [boot引导程序](http://pan.baidu.com/s/1geD00Fp) [ 密码：158c ]

## 开始制作U盘系统安装盘
利用写盘软件（“软碟通”）将Windows系统镜像写入U盘中，完成此步骤后你会拥有一个Windows安装U盘，具体操作如下：

{% asset_img 写入镜像到u盘/1.打开软碟通.png 1.打开软碟通.png %}
{% asset_img 写入镜像到u盘/2.选择镜像.png 2.选择镜像.png %}
{% asset_img 写入镜像到u盘/3.打开镜像.png 3.打开镜像.png %}
{% asset_img 写入镜像到u盘/4.准备写入镜像到U盘.png 4.准备写入镜像到U盘.png %}
{% asset_img 写入镜像到u盘/5.开始写入.png 5.开始写入.png %}

将刚刚下载的“boot引导程序”解压，并复制到U盘的efi目录下。完成之后的U盘安装盘的目录结构类似于下图：
{% asset_img 写入镜像到u盘/6.U盘安装盘的目录结构.png 6.U盘安装盘的目录结构.png %}

至此，你的Windows系统安装U盘就制作好了。

## 启动到 UEFI 模式
不要激动~，将制作好的启动U盘插入到需要安装系统的电脑上并启动电脑。随着固件开始运行，按可打开启动设备菜单的键。例如，按 Esc、F2、F9、F12 （台式机一般是F12）或其他键以进入固件或启动菜单。在启动设备菜单上，选择可同时标识固件模式和设备的命令。例如，选择“UEFI USB 驱动器xxx”。
- 注意：你会看到同一设备的不同命令。例如，你会看到“UEFI USB 驱动器”和“BIOS USB 驱动器”。每个命令都使用相同的设备和媒体，却以不同的固件模式启动电脑。这里我们选择U盘的UEFI开头的。如图：
{% asset_img 安装Windows/t5.jpg 选择UEFI U盘进入系统安装 %}

如果你没看到UEFI开头的启动菜单，请进入BIOS设置面板查看是否开启了UEFI选项，类似于下面的图所示：
{% asset_img 安装Windows/t1.jpg 开启UEFI启动选项 %}
注意修改完了保存，重启，继续上一步操作

选择UEFI U盘启动之后，你会看到如下画面:
{% asset_img 安装Windows/t6.jpg 安装程序正在启动 %}

然后会出现开始安装界面：
{% asset_img 安装Windows/t8.jpg 开始安装界面 %}
点击“下一步”继续安装

{% asset_img 安装Windows/t3.jpg 安装向导界面 %}
点击“现在安装”按钮，开始安装系统

{% asset_img 安装Windows/t2.jpg 安装许可条款 %}
接受所有不平等条约吧，然后点击“下一步”继续

{% asset_img 安装Windows/t7.jpg 安装类型 %}
安装类型选择“自定义（高级）”

{% asset_img 安装Windows/t9.jpg 选择安装位置 %}
安装位置，请选择你分好的系统分区。例如上图中的“分区3”，之后点击“下一步”继续安装

接下来的安装都比较简单了，基本就是等它自动安装完成。

## 其他

### 为什么会有GPT这种分区方式
传统的MBR分区表只能识别磁盘前面的大约2.2TB的空间，对于后面多余的空间是不能识别的，也就是说假设你有一个4TB的硬盘，并且你使用MBR的方式给它分区，那么你只能正常使用大约2.2TB的磁盘空间，剩下的1.8T左右的空间就浪费掉了。
除此以外，MBR分区表只能支持4个主分区或者3主分区+1扩展分区（包含随意数目的逻辑分区），而GPT在Windows下面可以支持多达128个主分区。
正因为如此，GPT分区表（全局唯一标识分区表）诞生了。


在MBR和GPT这两种不同的分区方式下安装windows操作系统，在操作上有些许的差异。
- GPT文件格式需要在 UEFI 模式下才能正常使用



